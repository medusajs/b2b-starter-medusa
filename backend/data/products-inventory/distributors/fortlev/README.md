# ‚ö° FortLev Dataset

**Fonte**: Portal FortLev Solar (fortlevsolar.app)
**√öltima atualiza√ß√£o**: 13 Outubro 2025
**Total de Produtos**: 280

## üìä Arquivos Inclu√≠dos

### JSON Estruturados

- `fortlev-inverters.json` - 153 inversores grid-tie
- `fortlev-hybrid_inverters.json` - 11 inversores h√≠bridos
- `fortlev-microinverters.json` - 5 microinversores
- `fortlev-panels.json` - 4 pain√©is solares
- `fortlev-structures.json` - 54 estruturas e componentes de fixa√ß√£o
- `fortlev-stringboxes.json` - 11 string boxes e combiner boxes
- `fortlev-conduits.json` - 16 dutos corrugados
- `fortlev-batteries.json` - 4 baterias
- `fortlev-ev_chargers.json` - 3 carregadores veiculares
- `fortlev-transformers.json` - 3 transformadores
- `fortlev-boxes.json` - 5 caixas de passagem
- `fortlev-security.json` - 2 produtos de seguran√ßa
- `fortlev-accessories.json` - 2 acess√≥rios
- `fortlev-miscellaneous.json` - 7 produtos diversos
- `fortlev-all-products.json` - Todos os 280 produtos unificados

### CSV Originais

- `https___fortlevsolar.app_produ (1-4).csv` - Dados de produtos
- `https___fortlevsolar.app_docum.csv` - Documenta√ß√£o t√©cnica
- `https___fortlevsolar.app_old.csv` - Kits e configura√ß√µes
- `https___fortlevsolar.app_.csv` - Dados adicionais

## üîç Caracter√≠sticas dos Dados

- **Total de Produtos**: 280 SKUs
- **Taxa de Imagens**: ~95% (imagens hospedadas em AWS S3)
- **Categorias**: 14 categorias distintas
- **Marcas**: HUAWEI, Growatt, Solis, FoxESS, Sungrow, Fronius, Enphase, Longi, BYD, DMEGC, Risen, NEP, Clamper, FLS

## üõçÔ∏è Invent√°rio por Categoria

### Inversores (153 produtos)

**Grid-Tie On-Grid**: 142 unidades

- HUAWEI (50+ modelos): 3-75kW, 220V/380V, 2-7 MPPT, AFCI
- Growatt (40+ modelos): MIN/MID/MAC s√©ries, 3-40kW
- Solis (20+ modelos): S5/S6 s√©ries, 3-110kW
- Sungrow (15+ modelos): SG s√©ries, 3-33kW
- Fronius (10+ modelos): Primo/Symo s√©ries, 3-20kW

**Micro-inversores**: 5 unidades

- Enphase IQ8/IQ7 s√©ries
- FoxESS Q1-2400-E

**Pot√™ncias dispon√≠veis**: 2kW at√© 110kW
**Faixa de pre√ßos**: R$ 1.273 - R$ 49.856

### Inversores H√≠bridos (11 produtos)

- HUAWEI SUN2000 s√©ries: 3-25kW, 220V/380V, AFCI
- Modelos com capacidade de bateria integrada
- **Faixa de pre√ßos**: R$ 3.294 - R$ 13.737

### Pain√©is Solares (4 produtos)

- **DMEGC**: 610Wp (R$ 567,71)
- **Longi**: 630Wp Horizon (R$ 695,83)
- **BYD**: 530Wp MLK-36 (R$ 728,12) | 575Wp HRP72S (R$ 966,67)

**Pot√™ncias**: 530-630Wp
**Tecnologias**: Monocristalino, TopCon, Half-Cell

### Estruturas e Fixa√ß√£o (54 produtos)

**Perfis**:

- Perfil Z Ter√ßa: 2.290mm - 4.580mm (ESP 1,2mm)
- Perfil Smart Suporte: 2,40m - 4,80m
- Perfil Plano/Refor√ßado Smart

**Componentes de Fixa√ß√£o**:

- Ganchos para telha cer√¢mica
- Grampos intermedi√°rios galvanizados
- M√£o francesa 1750mm
- Parafusos e conectores diversos

**Faixa de pre√ßos**: R$ 0,26 - R$ 509,10

### String Boxes (11 produtos)

- **Tens√µes**: 1000-1500VDC
- **Configura√ß√µes**: 2E/2S at√© 14E/1S
- **Marcas**: Clamper, Sungrow, gen√©ricas
- **Faixa de pre√ßos**: R$ 854 - R$ 15.767

### Dutos Corrugados (16 produtos)

- **Marca**: Condufort PEAD
- **Di√¢metros**: DN 32 at√© DN 110
- **Normas**: NBR 450N e NBR 680N
- **Comprimentos**: M√∫ltiplos de 50m e 100m
- **Faixa de pre√ßos**: R$ 5,38 - R$ 23,27/m

### Baterias (4 produtos)

- **Growatt**: AXE 5.0L (LiFePO4)
- **FoxESS**: EP11 (16,6kWh)
- **Faixa de pre√ßos**: R$ 6.716 - R$ 16.666

### Carregadores EV (3 produtos)

- **Growatt**: THOR07AS-P 7kW
- **FoxESS**: A7300P1-E-2 (7,3kW), A022KP1-E-2 (22kW)
- **Faixa de pre√ßos**: R$ 2.811 - R$ 4.760

### Transformadores (3 produtos)

- **Pot√™ncias**: 30kVA, 40kVA, 85kVA
- **Entrada**: 380V | **Sa√≠da**: 220V
- **Faixa de pre√ßos**: R$ 11.021 - R$ 24.340

### Acess√≥rios e Monitoramento (20+ produtos)

- Smart Meters (Growatt, FoxESS, Huawei, Enphase)
- Data Loggers e comunica√ß√£o
- Dispositivos de desconex√£o (IQ Relay)
- Otimizadores de pot√™ncia
- TC e transformadores de corrente

## üìà An√°lise de Mercado

### Fabricantes Principais

1. **HUAWEI** (50+ SKUs): Maior variedade, foco em alta pot√™ncia
2. **Growatt** (40+ SKUs): Ampla cobertura residencial/comercial
3. **Solis** (20+ SKUs): Competitivo em m√©dias pot√™ncias
4. **Sungrow** (15+ SKUs): Premium, alta efici√™ncia
5. **Fronius** (10+ SKUs): Premium europeu

### Segmentos de Mercado

- **Residencial**: 3-10kW (inversores monof√°sicos)
- **Comercial**: 10-30kW (inversores trif√°sicos)
- **Industrial**: 30-110kW (inversores de alta pot√™ncia)
- **Off-Grid/H√≠brido**: Sistemas com backup de bateria

### Diferenciais FortLev

- ‚úÖ Cat√°logo premium com marcas tier-1
- ‚úÖ Foco em inversores com AFCI (prote√ß√£o contra arco el√©trico)
- ‚úÖ Linha completa HUAWEI (exclusividade regional)
- ‚úÖ Infraestrutura completa (dutos, estruturas, acess√≥rios)
- ‚úÖ Solu√ß√µes EV charging integradas

## üîß Padr√µes de Dados

### Estrutura de ID

```
fortlev_{category}_{code}
```

**Exemplos**:

- `fortlev_inverters_IIN00384`
- `fortlev_panels_IMO00135`
- `fortlev_structures_IEF00243`

### C√≥digos de Produto

- **IIN**: Inversores
- **IMO**: M√≥dulos/Pain√©is
- **IEF/ILS**: Estruturas e fixa√ß√£o
- **ISB**: String boxes
- **IBT**: Baterias
- **ICV**: Carregadores veiculares
- **IDT**: Dutos
- **ITF**: Transformadores
- **ITR**: Acess√≥rios/parafusos

### Formato de Pre√ßos

- Formato: `R$ X.XXX,XX`
- Convers√£o: `{ "price": XXXX.XX, "currency": "BRL" }`
- Todos os pre√ßos em Real brasileiro

### Imagens

- **Hospedagem**: AWS S3 (prod-platform-api.s3.amazonaws.com)
- **Formato**: PNG/WEBP
- **Resolu√ß√£o**: Variada (318x647 at√© alta resolu√ß√£o)
- **Disponibilidade**: ~95% dos produtos

## üéØ Casos de Uso Medusa

### Inventory Module

```typescript
{
  sku: "fortlev_inverters_IIN00384",
  title: "HUAWEI ON-GRID 75KW - 220V - 7 MPPT - AFCI",
  requires_shipping: true,
  origin_country: "BR",
  metadata: {
    distributor: "fortlev",
    category: "inverters",
    manufacturer: "Huawei",
    power: "75kW",
    voltage: "220V",
    mppt: 7,
    afci: true
  }
}
```

### Product Variant

- 153 variantes de inversores
- 11 variantes de inversores h√≠bridos
- 4 variantes de pain√©is
- Gest√£o de `manage_inventory: true` para todos os produtos
- `allow_backorder: false` (disponibilidade imediata)

### Sales Channel

- **B2B**: Integradores e instaladores
- **B2C**: Sistemas residenciais menores
- Pre√ßos competitivos para volume

## üîÑ Status

- ‚úÖ CSVs processados com sucesso
- ‚úÖ 280 produtos extra√≠dos e estruturados
- ‚úÖ 14 categorias organizadas
- ‚úÖ Pre√ßos normalizados
- ‚úÖ Imagens mapeadas
- ‚úÖ Manufaturadores identificados
- ‚úÖ **Kits extra√≠dos (217 combina√ß√µes painel+inversor)**
- ‚úÖ **Vision AI configurado (Gemma3 + GPT OSS 20B)**
- ‚úÖ Pronto para integra√ß√£o Medusa

## ü§ñ Vision AI Enhancement

### Kits Fotovoltaicos

Extra√≠dos **217 kits completos** de sistema fotovoltaico com combina√ß√µes painel + inversor:

**Arquivo**: `fortlev-kits.json`

**Estrutura do Kit**:

```json
{
  "id": "kit-longi-growatt-6",
  "name": "Kit Fotovoltaico 6,50kWp - Longi + Growatt",
  "system_power_kwp": 6.5,
  "components": {
    "panel": {
      "id": "longi-hi-mo-6-explorer-lr5-72hph-530m",
      "manufacturer": "Longi",
      "quantity": 12,
      "power_w": 530,
      "total_power_kwp": 6.36,
      "image": "https://prod-platform-api.s3.amazonaws.com/..."
    },
    "inverter": {
      "id": "growatt-mic-3000tl-x",
      "manufacturer": "Growatt",
      "quantity": 1,
      "power_kw": 3.0,
      "image": "https://prod-platform-api.s3.amazonaws.com/..."
    }
  },
  "pricing": {
    "total": 14582.54,
    "currency": "BRL"
  }
}
```

### Estat√≠sticas dos Kits

**Por Fabricante de Painel**:

- Longi: 80 kits
- BYD: 37 kits
- Risen: 27 kits
- Unknown: 73 kits (requer an√°lise visual)

**Por Fabricante de Inversor**:

- Unknown: 165 kits (requer an√°lise visual)
- Sungrow: 24 kits
- Growatt: 22 kits
- Enphase: 6 kits

**Faixas de Pot√™ncia**:

- M√≠nimo: 2,44 kWp
- M√°ximo: 16,10 kWp
- M√©dia: 6,83 kWp

**Faixas de Pre√ßo**:

- M√≠nimo: R$ 2.923,56
- M√°ximo: R$ 30.302,25
- M√©dia: R$ 11.840,25

### Vision AI Pipeline

Para resolver os **238 componentes "Unknown"** (73 pain√©is + 165 inversores), implementamos processamento com vis√£o computacional:

#### Modelos Utilizados

1. **Gemma3** (Google): An√°lise visual de componentes
   - Identifica√ß√£o de fabricante via logotipos
   - Extra√ß√£o de modelo pela apar√™ncia f√≠sica
   - Reconhecimento de especifica√ß√µes visuais
   - Classifica√ß√£o de tecnologia (mono/poli, tipo de inversor)

2. **GPT OSS 20B**: OCR de etiquetas e especifica√ß√µes
   - Leitura de placas de identifica√ß√£o
   - Extra√ß√£o de n√∫meros de modelo
   - Parsing de especifica√ß√µes t√©cnicas
   - Valida√ß√£o de pot√™ncias e voltagens

#### Arquivos de Processamento

- `vision_processor.py` - Processador principal com ambos os modelos
- `test_vision.py` - Script de teste de conectividade
- `batch_processor.py` - Processamento em lote com retry e checkpoints
- `merge_vision_data.py` - Merge de resultados de vis√£o nos dados originais
- `VISION-SETUP.md` - Guia completo de configura√ß√£o
- `QUICKSTART-VISION.md` - Quick start para processamento
- `requirements.txt` - Depend√™ncias Python

#### Workflow de Processamento

```
1. fortlev-kits.json (217 kits com "Unknown")
   ‚Üì 
2. vision_processor.py / batch_processor.py
   ‚îú‚îÄ Download imagens de S3 (cache/images/)
   ‚îú‚îÄ An√°lise visual com Gemma3
   ‚îú‚îÄ OCR com GPT OSS 20B
   ‚îî‚îÄ Gerar fortlev-kits-enhanced.json
   ‚Üì
3. merge_vision_data.py
   ‚îî‚îÄ fortlev-kits-final.json (fabricantes identificados)
   ‚îî‚îÄ vision-stats.json (estat√≠sticas)
```

#### Dados Extra√≠dos pela Vis√£o

**Para Pain√©is**:

- Fabricante (LONGi, Canadian Solar, JA Solar, etc.)
- Modelo exato (LR5-72HPH-530M, CS6R-400MS, etc.)
- Pot√™ncia nominal (Watts)
- Tecnologia (monocrystalline, polycrystalline, TopCon)
- Configura√ß√£o de c√©lulas (72-cell, 144 half-cut, etc.)
- Efici√™ncia
- Dimens√µes f√≠sicas

**Para Inversores**:

- Fabricante (Growatt, Sungrow, Fronius, etc.)
- Modelo exato (MIC-3000TL-X, SG5K-D, etc.)
- Pot√™ncia nominal (kW)
- Tipo (grid-tie, hybrid, microinverter)
- Voltagem (220V, 380V)
- N√∫mero de MPPT trackers
- Efici√™ncia m√°xima
- Corrente DC m√°xima

#### Como Usar

**Teste de Conectividade**:

```bash
cd products-inventory/distributors/fortlev
pip install -r requirements.txt
python test_vision.py
```

**Processamento Completo**:

```bash
# Processar todos os 217 kits (~36-87 minutos)
python batch_processor.py

# Merge resultados
python merge_vision_data.py
```

**Ver Resultados**:

```bash
# Estat√≠sticas de identifica√ß√£o
cat vision-stats.json

# Kits finais com manufacturers resolvidos
cat fortlev-kits-final.json
```

#### Melhoria Esperada

Resolu√ß√£o de **238 componentes "Unknown"**:

- Pain√©is: ~65-70 dos 73 identificados (~95%)
- Inversores: ~150-160 dos 165 identificados (~95%)
- **Total**: ~215-230 componentes identificados via Vision AI

Dados remanescentes "Unknown" podem ser:

- Componentes sem imagem dispon√≠vel
- Imagens de baixa qualidade
- Logotipos obscuros ou removidos
- Produtos OEM/gen√©ricos sem marca

### Integra√ß√£o Medusa

Os kits processados podem ser integrados no Medusa como:

1. **Product Bundles**: Kits pr√©-configurados com desconto
2. **Inventory Items**: Componentes individuais rastreados
3. **Sales Channel**: Ofertas B2B para integradores
4. **Pricing**: Pricing din√¢mico baseado em configura√ß√£o

**Metadata dos Kits**:

```typescript
{
  handle: "kit-fotovoltaico-6.5kwp-longi-growatt",
  collection: "solar-kits",
  tags: ["fotovoltaico", "residencial", "longi", "growatt"],
  metadata: {
    system_power_kwp: 6.5,
    panel_manufacturer: "Longi",
    inverter_manufacturer: "Growatt",
    components_count: 13,
    installation_type: "residencial"
  }
}
```

## üéØ Title Normalization & Semantic Search (NEW)

### Status: ‚úÖ COMPLETE (Oct 13, 2025)

Successfully normalized all **217 solar kit titles** for optimal semantic search with Gemma3 and Medusa.js integration.

### New Files

- `fortlev-kits-normalized.json` - ‚úÖ Medusa.js-ready product data
- `normalize_titles.py` - Title normalization engine
- `preview_normalized.py` - Data preview and statistics tool
- `MEDUSA-AGENTS.md` - 7 specialized Medusa.js integration patterns
- `NORMALIZATION-SUMMARY.md` - Complete implementation guide

### Statistics

- **Total Kits**: 217 normalized
- **Panel Manufacturers**: LONGi (37%), BYD (17%), Risen (12%), Unknown (34%)
- **Inverter Manufacturers**: Sungrow (11%), Growatt (10%), Enphase (3%), Unknown (76%)
- **Power Range**: 2.44kWp - 16.10kWp (avg: 8.15kWp)
- **Images**: 76% inverter, 34% panel, 26% combination

### Semantic Search Format

**Search Title**: `{power}kWp Solar Energy Kit {panel} Panel {inverter} Inverter Grid-Tie System`

**Example**: "2.52kWp Solar Energy Kit LONGi Panel Growatt Inverter Grid-Tie System"

### Quick Commands

```bash
# Preview data
python preview_normalized.py

# Re-normalize (if needed)
python normalize_titles.py
```

### Documentation

- `MEDUSA-AGENTS.md` - 7 integration patterns (Product, Inventory, Pricing, etc.)
- `NORMALIZATION-SUMMARY.md` - Complete guide with examples and next steps
