# ============================================================================
# Logrotate Configuration - YSH Data Pipeline
# ============================================================================
# Purpose: Automatic log rotation for local development
# Location: /etc/logrotate.d/ysh-pipeline (Linux)
# ============================================================================

# Application logs
/path/to/ysh-store/backend/data/products-inventory/data-pipeline/logs/*.log {
    daily
    rotate 7
    maxage 30
    compress
    delaycompress
    notifempty
    missingok
    create 0644 root root
    sharedscripts
    
    postrotate
        # Send HUP signal to running processes if needed
        # pkill -HUP -f "python.*aneel_data_fetcher.py" || true
    endscript
}

# Compressed archives older than 30 days
/path/to/ysh-store/backend/data/products-inventory/data-pipeline/logs/*.log.*.gz {
    maxage 30
    delete
}

# Docker container logs (if exposed)
/var/lib/docker/containers/*/*.log {
    daily
    rotate 7
    maxage 30
    compress
    delaycompress
    notifempty
    missingok
    copytruncate
}
